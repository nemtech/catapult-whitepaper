% constants
\newcommand*{\codename}{\textcolor{nemleading}{\textbf{Symbol}}}
\newcommand*{\codenamespace}{\codename{ }}
\newcommand*{\codenamechapterfirstword}{\nemchapterfirstletter{S}{ymbol} }

% math constants
\newcommand{\euler}{\mathrm{e}}

% math formatting
\newcommand{\mathfunc}[1]{\mathrm{#1}}
\newcommand{\structField}[2]{#1\mathrm{{::}#2}}

% nem index
\newcommand{\nind}[1]{
	\emph{#1}\index{#1}
}

% reference formatting
\newcommand{\nemref}[1]{\autoref{#1}:~\nameref{#1}}
\newcommand{\nemrefparens}[1]{(see \nemref{#1})}

%%% basic formatting %%%

\newcommand{\class}[1]{\texttt{#1}}
\newcommand{\field}[1]{\texttt{#1}}
\newcommand{\filepath}[1]{\texttt{#1}}

\newcommand{\nemchapterfirstletter}[1]{
	\lettrine[lraise=0,lines=3,nindent=0.5em,slope=0.0em]{\color{nemdark}\fontseries{bx}\fontsize{54pt}{56pt}\selectfont #1}
}

\protected\def \nemsetting #1#2{
	\ifmmode\text{#2}\else\textit{#1{\allowbreak}:{\allowbreak}#2}\fi
}

%%% figure formatting %%%

% centers an image without a caption
\newcommand{\nemcenter}[1]{
	\centering
	#1
}

% centers an image with a caption
\newcommand{\nemcenterwithcaption}[2]{
	\centering
	#1
	\caption{#2}
}

%%% quote formating %%%

% selects Libertine for quote font
\newcommand*\quotefont{
	\fontfamily{LinuxLibertineT-OsF}
}

\newcommand*{\openquote}{
	\tikz[remember picture,overlay,xshift=-15pt,yshift=10pt]
	\node[] (OQ) {\quotefont\fontsize{60}{60}\selectfont``};%
	\kern0pt
}
\newcommand*{\closequote}{
	\tikz[remember picture,overlay,xshift=15pt,yshift=0pt]
	\node[] (CQ) {\quotefont\fontsize{60}{60}\selectfont''};
}

\newcommand{\nemquote}[2]{
	\begin{quote}\openquote #1 \hfill\closequote
	\par \hfill \textit{- #2}
	\end{quote}
}

%%% memory layout commands %%%

% prepares an 8 byte memory layout with a caption
\newcommand{\nemmemorylayout}[2]{
	\centering
	\begin{bytefield}[bitwidth=1.1em, leftcurly=., leftcurlyspace=0pt]{8}
		\bitheader{0-7} \\
		#1
	\end{bytefield}
	\caption{#2}
}

% creates a multiword memory layout wordbox that has top-aligned text
% first param is always offset
\newcommand{\nemmemorymultiwordbox}[3]{
	\begin{leftwordgroup}{\texttt{#1}}
		\wordbox[tlr]{1}{#2}
	\end{leftwordgroup} \\
	\wordbox[blr]{#3}{}
}

% creates a multiword memory layout wordbox with variable sized data that has top-aligned text
\newcommand{\nemmemorymultiwordboxskipped}[3]{
	\begin{leftwordgroup}{\texttt{#1}}
		\wordbox[tlr]{1}{#2}
	\end{leftwordgroup} \\
	\skippedwords \\
	\wordbox[blr]{1}{#3}
}
